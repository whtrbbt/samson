# samson
Для того что бы просмотреть результы выполнения задания необходимы:
1. Чистая установка решения «Интернет-магазин» из дистрибутива «1С-Битрикс:Управление сайтом - Бизнес».
2. Отключить/удалить системный шаблон магазина Bootstrap_v4 если он используется
3. Скопировать папку local в каталог где установлен bitrix

1 и 3 часть задания выполнены в виде компонентов расположенных в папке local/components/samson
2 задача реализована в файле local/ajax/compare_list.php и в файлах шаблонов компоннетов catalog

Задача 1
Подключается через компонент error.send.message в файле header.php, в качестве параметров может принимать:
"MAIL_SENDER" - способ отправки php или bitrix,
"EMAIL_FOR_ERRORS" - адрес почты куда отправить ошибку в случае отправки через php
Настройки доступны через панель управления, для отправки сообщения через битрикс в нем должны быть созданы:
событие "ERROR_CONTENT" и шаблон почты для события с полями:  "ERROR_MESSAGE", "ERROR_URL", "ERROR_REFERER", "ERROR_USERAGENT",
Непосредственно отправку почты не проверял, т.к. в моем окружении отправка исходящей почты не настроенна, использовалась заглушка для работы php mail(),
поэтому работоспособность решения проверил только до вызова функции mail().
За основу взял пример из курса битрикс, но ajax часть и js сделал сам, + сделал окно на bootstrap, а не использовал окна Битрикс

Использование: выделить текст на странице, нажать Ctrl+Enter, нажать "Да, отправить"

Задача 2
Использовал для ее выполнения некоторые решения из Интернета, доработав для своих условий. Кода в ней мало, в основном это вызов стандартного компонента битрикс catalog.compare.list и изменение шаблонов компонентов bitrix.catalog.element и bitrix.catalog.item. Сравнение работает только для самих товаров, а не для их торговых предложений. Сравнение проходит только по параметрам Производитель, материал, артикул, если параметры совпадают - то в листе сравнений они не отображаются. Если товар добавлен в сравнение, то в его карточке будет отображаться что он уже в сравнении

Делал это задание в первую очередь, т.к. оно мне показалось самым сложным, по итогу после выполнения остальных 2 задач и получения новых навыков сейчас бы сделал бы ее иначе))

Использование: в каталоге, в любом разделе навести мышь на любой товар, поставить чекбокс Сравнить, появится "плашка" со списком сравнения в который можно зайти 

Задача 3
Подключается через компонент catalog.buy.code в файле header.php в виде ссылка на страницу поиска (Поиск товаров по ID) и в самой странице /local/codebuy.php
Настроек у компонента нет, кроме имени шаблона: .default или link

Использование: перейти по ссылке "Поиск товаров по ID", в строке ввода "Введите ID-код товара" введите ID товара и нажмите кнопку "Найти". Если товар с
указаным ID есть в системе, появится карточка с названием, ценой и полем ввода количества. Указываем нужное количество и нажимаем кнопку "В корзину", товар добавится в корзину. Если товар имеет торговые предложения, то выведется название товара и список ID торговых предложений. Если товар не найден выведется сообщение.


